@*@model IEnumerable<VideoRentalApplication.Model.Customer>
    @{
        ViewBag.Title = "Index";
    }*@

<h2>Customer List</h2>

@Html.ActionLink("New Customer", "CustomerForm", "", new { @class = "btn btn-success" })

<br />
<br />


<div>
    <table id="tblCustomer" class="table table-hover table-bordered table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Membershipt Type</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            @*@if (!Model.Any())
                {
                    <p>No records founf</p>
                }
                else
                {
                    foreach (var customer in Model)
                    {
                        using (Html.BeginForm("Delete", "Customer", new { Id = customer.Id }))
                        {
                            <tr>
                                <td>@Html.ActionLink(@customer.Name, "Edit", new { id = customer.Id })</td>
                                <td>@customer.MembershipType.Name</td>
                                <td><input type="submit" value="Delete" class="btn btn-link" onclick="return confirm('Are you sure, do you want to delete this record?')" /></td>
                            </tr>
                        }
                    }
                }*@


        </tbody>
    </table>
</div>

@section scripts{
    <script>
        $(document).ready(function () {
            $('#tblCustomer').DataTable({
                "pageLength": 5,
                "lengthMenu": [[5, 10, 25, 50], [5, 10, 25, 50]], // Limits to 5, 10, 25, or 50 [2, 8]
                ajax: {
                    url: '/api/CustomerAPI/AllCustomer',
                    dataScr: ""
                },
                columns: [
                    {
                        data: "Name"
                    },
                    {
                        data: "MembershipType.Name"
                    },
                    {

                    }
                ]

            });
        })
    </script>

}